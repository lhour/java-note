##什么是事务
数据库事务（简称：事务）是 数据库管理系统 执行过程中的一个逻辑单位，由一个有限的 数据库 操作序列构成。 事务（Transaction）是并发控制的基本单位。 所谓的事务，它是一个操作序列，这些操作要么都执行，要么都不执行，它是一个不可分割的工作单位。
***
比如银行转账,一人加,一人减,必须同时成功或者失败

#### 概念
1. 和事务相关的语句只有DML,insert,update,delete
2. 保证安全性,完整性
3. 通常一个事务都需要多条语句
4. 1. 原子性,所有操作一次必须都完成
   1. 隔离性,一个事务不影响其他事务
   2. 一致性,事务开始和结束之前,数据库保持相同
   3. 持久性,写入硬盘,事务才算结束
5. 事务隔离性
   1. 读未提交
      1. 对方事务还没提交,我们读到未提交的数据,读到脏数据
   2. 读已提交
      1. 解决了上面读到脏数据的问题,但是不可重复读
   3. 可重复读
      1. 可重复读,读到的数据是幻象
   4. 序列化读
      1. 解决了所有问题
      2. 效率低,事务排队
   5. oracle默认读已提交
   6. mysql可重复读

#### 演示事务
1. mysql默认自动提交
2. 使用start transaction关闭自动提交

#### 设置全局隔离级别 read uncommitted
查看当前
```sql
mysql> select @@global.transaction_isolation;
+--------------------------------+
| @@global.transaction_isolation |
+--------------------------------+
| REPEATABLE-READ                |
+--------------------------------+
1 row in set (0.00 sec)
```
全局更改
```sql
set global transaction isolation level read uncommitted;
```

```sql
终端1
insert into 平均学分绩(姓名,均分) values("liuyun","90");

mysql> insert into 平均学分绩(姓名,均分) values("liuyun","90");
Query OK, 1 row affected (0.10 sec)
```
```sql
终端2

mysql> select * from 平均学分绩 order by 均分 desc limit 10;
+--------+-------------------+
| 姓名   | 均分              |
+--------+-------------------+
| liuyun |                90 |
| 郭X农  | 85.31746031746032 |
| 廉X樊  | 83.92592592592592 |
| 储X养  |            83.025 |
| 丰X靳  | 82.91111111111111 |
| 嵇X全  | 82.80555555555556 |
| 皮X扈  | 82.43333333333334 |
| 潘X阴  | 82.34482758620689 |
| 鲁X冷  | 82.21052631578948 |
| 汲X路  | 82.17567567567568 |
+--------+-------------------+
10 rows in set (0.00 sec)
```