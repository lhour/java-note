### 代理
* 类别a要调用c的方法
* 可是c不让a调用,或者不能,或者拒绝
* 但是c允许b去调用
* a可以访问b
* a ---> b ---> c

### 自己的体会
* 可以重复的使用.重复的去完成代理,增加功能
* 面向切面编程

### 代理的作用
* 功能增强:在原有功能上增加新的功能
* 控制访问:商家不让用户访问厂家

### 实现代理的方法
* 静态代理:代理类是自己实现的,自己创建一个java类,这个类的目标是确定的,实现简单,容易理解
  * 模拟购买笔记本
    * 定义一个接口,定义卖笔记本的方法,表示厂家做的事
    * 创建厂家类
    * 创建商家,代理商
    * 创建客户端
  * 缺点
    * 目标增多时,代理类可能也需要成倍增加
    * 增加一个方法时,全部的代理类都需要更改
* 动态代理
  * 可以解决静态代理的缺点
  * 在程序执行过程中,使用jdk反射机制,创建代理类对象,并动态的指定要代理的目标类.
  * 不用创建代理类,也能创建出代理对象.就是一种创建对象的方法,一般我们手动创建对象就是一个类,一个构造方法
  * 动态代理是指代理对象在程序运行时由JVM根据反射机制动态生成的,不需要定义.java文件
  * 动态代理就是jdk运行期间,动态创建字节码并加载到JVM
  * 动态代理的实现方法通常有两种,jdk动态代理,cglib动态代理
* JDK动态代理
  * java.lang.reflect,里面有三个类
    * InvocationHandler
      * 就一个方法invoke()
      * 你的代理类要完成的功能就写在invoke中，就可以实现代理。
      * 代理类完成的任务
        * 
    * Method
      * 
    * Proxy
* cglib第三方代理库
  * 原理是继承
  * 通过继承目标类,创建字类,重写父类中的方法,增加功能
  * 因为是重写的方法,所以要求目标类不能是final的,比较宽松,能继承就可以了
  * 在很多框架中使用,比如mybatis,spring中都有使用
  * 在某些方面效率高于jdk
### 静态代理实现

## 代理的笔记,来源菜鸟教程

### 意图：
为其他对象提供一种代理以控制对这个对象的访问。

### 主要解决：
在直接访问对象时带来的问题，比如说：要访问的对象在远程的机器上。在面向对象系统中，有些对象由于某些原因（比如对象创建开销很大，或者某些操作需要安全控制，或者需要进程外的访问），直接访问会给使用者或者系统结构带来很多麻烦，我们可以在访问此对象时加上一个对此对象的访问层。

### 何时使用：
想在访问一个类时做一些控制。

### 如何解决：
增加中间层。

### 关键代码：
实现与被代理类组合。

### 应用实例： 
1、 Windows 里面的快捷方式。 
2、 猪八戒去找高翠兰结果是孙悟空变的，可以这样理解：把高翠兰的外貌抽象出来，高翠兰本人和孙悟空都实现了这个接口，猪八戒访问高翠兰的时候看不出来这个是孙悟空，所以说孙悟空是高翠兰代理类。 
3、 买火车票不一定在火车站买，也可以去代售点。 
4、 一张支票或银行存单是账户中资金的代理。支票在市场交易中用来代替现金，并提供对签发人账号上资金的控制。 
5、 spring aop。

### 优点： 
1、 职责清晰。 
2、 高扩展性。 
3、 智能化。

### 缺点： 
1、 由于在客户端和真实主题之间增加了代理对象，因此有些类型的代理模式可能会造成请求的处理速度变慢。 
2、 实现代理模式需要额外的工作，有些代理模式的实现非常复杂。

### 使用场景：
按职责来划分，通常有以下使用场景： 
1、 远程代理。 
2、 虚拟代理。  
3、 Copy-on-Write 代理。 
4、 保护（Protect or Access）代理。 
5、 Cache代理。 
6、 防火墙（Firewall）代理。 
7、 同步化（Synchronization）代理。 
8、 智能引用（Smart Reference）代理。

### 注意事项： 
1、 和适配器模式的区别：适配器模式主要改变所考虑对象的接口，而代理模式不能改变所代理类的接口。 
2、 和装饰器模式的区别：装饰器模式为了增强功能，而代理模式是为了加以控制. 

